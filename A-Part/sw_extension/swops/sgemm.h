#define sgemm_8_8_8(A, B, C, K, N)\
({\
	asm volatile(\
	"vlds $32, 0(%0)\n"/*A0*/\
		"s4addl %3, %0, $1\n"/*&A1 at $1*/\
	"vlds $40, 0(%1)\n"/*B0*/\
		"s8addl %4, %2, $5\n"/*&C1 at $5*/\
	"vldd $42, 0(%2)\n"/*C0*/\
		"s4addl %3, $1, $2\n"/*&A2 at $2*/\
	"vlds $33, 0($1)\n"/*A1*/\
		"s8addl %4, $5, $6\n"/*&C2 at $6*/\
	"vldd $43, 0($5)\n"/*C1*/\
		"s4addl %3, $2, $3\n"/*&A3 at $3*/\
	"vlds $34, 0($2)\n"/*A2*/\
		"s8addl %4, $6, $7\n"/*&C3 at $7*/\
	"vldd $44, 0($6)\n"/*C2*/\
		"s4addl %3, $3, $4\n"/*&A4 at $4*/\
	"vlds $35, 0($3)\n"/*A3*/\
		"s8addl %4, $7, $8\n"/*&C4 at $8*/\
	"ldi $9,7($31)\n"  /*get interval*/\
		"s4addl %3, $4, $1\n"/*&A5 at $1*/\
	"wcsr $9, 0x92\n"  /*set interval*/\
		"s8addl %4, $8, $5\n"/*&C5 at $5*/\
	"vldd $45, 0($7)\n"/*C3*/\
		"s4addl %3, $1, $2\n"/*&A6 at $2*/\
	"vlds $36, 0($4)\n"/*A4*/\
		"s8addl %4, $5, $6\n"/*&C6 at $6*/\
	"vldd $46, 0($8)\n"/*C4*/\
		"s4addl %3, $2, $3\n"/*&A7 at $3*/\
	"vlds $37, 0($1)\n"/*A5*/\
		"s8addl %4, $6, $7\n"/*&C7 at $7*/\
	"vldd $47, 0($5)\n"/*C5*/\
		"vlenma $32, $40, $42, $42\n"\
	"vlds $38, 0($2)\n"/*A6*/\
		"vlenma $33, $40, $43, $43\n"\
	"vldd $48, 0($6)\n"/*C6*/\
		"vlenma $34, $40, $44, $44\n"\
	"vlds $39, 0($3)\n"/*A7*/\
		"vlenma $35, $40, $45, $45\n"\
	"vldd $49, 0($7)\n"/*C7*/\
		"vlenma $36, $40, $46, $46\n"\
	"s4addl %4, %1, $9\n"/*&B1 at $9*/\
		"vlenma $37, $40, $47, $47\n"\
	"vlds $41, 0($9)\n"/*B1*/\
		"vlenma $38, $40, $48, $48\n"\
	"s4addl %4, $9, $10\n"/*&B2 at $10*/\
		"vlenma $39, $40, $49, $49\n"\
	"ldi $1,0(%2)\n"   /*get CSR_VLENMAS_STADDR*/\
		"vlenma $32, $41, $42, $42\n"\
	"vlds $40, 0($10)\n"/*B2*/\
		"vlenma $33, $41, $43, $43\n"\
	"wcsr $1, 0x90\n"  /*set CSR_VLENMAS_STADDR*/\
		"vlenma $34, $41, $44, $44\n"\
	"s8addl %4, $31, $2\n"\
		"vlenma $35, $41, $45, $45\n"\
	"wcsr $2, 0x91\n"\
		"vlenma $36, $41, $46, $46\n"\
	"s4addl %4, $10, $9\n"/*&B3 at $9*/\
		"vlenma $37, $41, $47, $47\n"\
		"vlenma $38, $41, $48, $48\n"\
	"s4addl %4, $9, $10\n"/*&B4 at $10*/\
		"vlenma $39, $41, $49, $49\n"\
		"vlenma $32, $40, $42, $42\n"\
	"vlds $41, 0($9)\n"/*B3*/\
		"vlenma $33, $40, $43, $43\n"\
	"s4addl %4, $10, $9\n"/*&B5 at $9*/\
		"vlenma $34, $40, $44, $44\n"\
		"vlenma $35, $40, $45, $45\n"\
		"vlenma $36, $40, $46, $46\n"\
		"vlenma $37, $40, $47, $47\n"\
		"vlenma $38, $40, $48, $48\n"\
		"vlenma $39, $40, $49, $49\n"\
		"vlenma $32, $41, $42, $42\n"\
	"vlds $40, 0($10)\n"/*B4*/\
		"vlenma $33, $41, $43, $43\n"\
	"s4addl %4, $9, $10\n"/*B6 at $10*/\
		"vlenma $34, $41, $44, $44\n"\
		"vlenma $35, $41, $45, $45\n"\
		"vlenma $36, $41, $46, $46\n"\
		"vlenma $37, $41, $47, $47\n"\
		"vlenma $38, $41, $48, $48\n"\
		"vlenma $39, $41, $49, $49\n"\
		"vlenma $32, $40, $42, $42\n"\
	"vlds $41, 0($9)\n"/*B5*/\
		"vlenma $33, $40, $43, $43\n"\
	"s4addl %4, $10, $9\n"/*B7 at $9*/\
		"vlenma $34, $40, $44, $44\n"\
		"vlenma $35, $40, $45, $45\n"\
		"vlenma $36, $40, $46, $46\n"\
		"vlenma $37, $40, $47, $47\n"\
		"vlenma $38, $40, $48, $48\n"\
		"vlenma $39, $40, $49, $49\n"\
		"vlenma $32, $41, $42, $42\n"\
	"vlds $40, 0($10)\n"/*B6*/\
		"vlenma $33, $41, $43, $43\n"\
		"vlenma $34, $41, $44, $44\n"\
		"vlenma $35, $41, $45, $45\n"\
		"vlenma $36, $41, $46, $46\n"\
		"vlenma $37, $41, $47, $47\n"\
		"vlenma $38, $41, $48, $48\n"\
		"vlenma $39, $41, $49, $49\n"\
		"vlenma $32, $40, $42, $42\n"\
	"vlds $41, 0($9)\n"/*B7*/\
		"vlenma $33, $40, $43, $43\n"\
		"vlenma $34, $40, $44, $44\n"\
		"vlenma $35, $40, $45, $45\n"\
		"vlenma $36, $40, $46, $46\n"\
		"vlenma $37, $40, $47, $47\n"\
		"vlenma $38, $40, $48, $48\n"\
		"vlenma $39, $40, $49, $49\n"\
		"vlenmas $32, $41, $42, $42\n"\
		"vlenmas $33, $41, $43, $43\n"\
		"vlenmas $34, $41, $44, $44\n"\
		"vlenmas $35, $41, $45, $45\n"\
		"vlenmas $36, $41, $46, $46\n"\
		"vlenmas $37, $41, $47, $47\n"\
		"vlenmas $38, $41, $48, $48\n"\
		"vlenmas $39, $41, $49, $49\n"\
	:\
	:"r"(A),"r"(B),"r"(C),"r"(K),"r"(N)\
	:"$32","$33","$34","$35","$36","$37","$38","$39",/*A*/\
	 "$40","41",/*B*/\
	 "$42","$43","$44","$45","$46","$47","$48","$49",/*C*/\
	 "$1","$2","$3","$4","$5","$6","$7","$8","$9","$10",\
	 "memory");\
	0;\
})
